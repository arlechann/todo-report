{"version":3,"sources":["utils/localStrage.js","contexts/TodoContext.js","contexts/ConfigContext.js","components/Header.js","utils/utils.js","components/TodoItem.js","components/TodoList.js","hooks/useInput.js","components/AddForm.js","components/InProgressPage.js","components/TabPanel.js","components/DonePage.js","hooks/useTextarea.js","components/ConfigPage.js","template/keywords.js","template/template.js","components/ReportPage.js","components/Main.js","App.js","reportWebVitals.js","index.js"],"names":["saveLocalStorageMiddleware","key","state","localStorage","setItem","JSON","stringify","loadLocalStorage","init","parse","getItem","resetLocalStorege","removeItem","initialState","items","inProgress","done","nextId","TodoContext","createContext","DispatchTodoContext","useTodoContext","useContext","useDispatchTodoContext","defaultItem","progress","dueDate","isProductive","spentTimeMinutes","comment","arraySwap","arr","i","j","reducerUpdateItem","property","payload","id","value","reducerUpdateProgress","reducerUpdateComment","reducerUpdateSpentTimeMinutes","reducer","action","type","item","reducerAdd","index","length","reducerUp","reducerDown","filter","e","reducerDone","reducerRestore","localStorageKey","TodoContextProvider","props","useReducer","f","fs","reduce","acc","fn","compose","dispatch","Provider","children","template","ConfigContext","DispatchConfigContext","useConfigContext","ConfigContextProvider","useStyles","makeStyles","theme","title","display","width","tab","marginLeft","Header","classes","AppBar","position","Toolbar","Typography","className","component","Box","zeroPadding","num","repeat","slice","formatMonthDate","d","month","getMonth","date","getDate","card","margin","marginTop","marginBottom","maxWidth","minWidth","moveBtn","restoreBtn","TodoItem","disabled","dueDateText","substring","indexOf","replace","spentTimeValue","minutes","h","Math","floor","m","minutesToTimeText","timeTextToMinutes","timeText","split","map","str","parseInt","Card","elevation","CardHeader","name","CardContent","Grid","container","alignItems","xs","Slider","valueLabelDisplay","step","marks","min","max","onChange","spaceing","color","TextField","label","InputLabelProps","shrink","inputProps","target","fullWidth","CardActions","Button","variant","size","onClick","ButtonGroup","order","ArrowUpward","ArrowDownward","paddingLeft","paddingRight","TodoList","reverse","spacing","useInput","initialValue","useState","setValue","checked","paper","padding","verticalAlign","marginZero","AddForm","Paper","onSubmit","preventDefault","gridContainer","required","FormControlLabel","control","Checkbox","labelPlacement","InProgressPage","todoState","TabPanel","page","hidden","DonePage","useTextarea","textarea","fontSize","actionBtn","deleteBtn","saveBtn","marginRight","cancelBtn","ConfigPage","configs","configDispatch","todoDispatch","config","direction","TextareaAutosize","minRows","keywords","keyword","get","Date","productiveTimeMinutes","TemplateParseError","message","this","lexText","tokens","lexKeyword","push","text","CONTROL_KEYWORD","parseList","ast","parser","listAst","lastIndex","parserImpl","convert","token","funcs","Object","fromEntries","pair","hasOwnProperty","toString","buildImpl","Array","join","buildList","build","lexer","ReportPage","builtText","Main","App","tabPage","setTabPage","Tabs","_","Tab","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ee32d3c.chunk.js","sourcesContent":["export const saveLocalStorageMiddleware = key => {\n  return state => {\n    localStorage.setItem(key, JSON.stringify(state));\n    return state;\n  };\n};\n\nexport const loadLocalStorage = key => {\n  return init => {\n    return {\n      ...init,\n      ...JSON.parse(localStorage.getItem(key))\n    };\n  };\n};\n\nexport const resetLocalStorege = key => {\n  localStorage.removeItem(key);\n}","import { createContext, useContext, useReducer } from \"react\";\nimport { saveLocalStorageMiddleware, loadLocalStorage, resetLocalStorege } from \"../utils/localStrage\";\n\nconst initialState = {\n  items: {},\n  inProgress: [],\n  done: [],\n  nextId: 1,\n};\n\nconst TodoContext = createContext(initialState);\nconst DispatchTodoContext = createContext(() => { });\n\nexport const useTodoContext = () => useContext(TodoContext);\nexport const useDispatchTodoContext = () => useContext(DispatchTodoContext);\n\nconst defaultItem = {\n  progress: 0,\n  dueDate: '',\n  isProductive: false,\n  spentTimeMinutes: 0,\n  comment: '',\n}\n\nconst reducerAdd = (state, payload) => {\n  const item = {\n    ...defaultItem,\n    ...payload.item,\n    id: state.nextId,\n  };\n  return {\n    ...state,\n    items: {\n      ...state.items,\n      [item.id]: item,\n    },\n    inProgress: [\n      ...state.inProgress,\n      item.id,\n    ],\n    nextId: state.nextId + 1,\n  };\n};\n\nconst arraySwap = (arr, i, j) => {\n  [arr[i], arr[j]] = [arr[j], arr[i]];\n  return arr;\n}\n\nconst reducerUp = (state, payload) => {\n  const index = payload.index;\n  if (index - 1 < 0 || state.inProgress.length <= index) {\n    return state;\n  }\n  return {\n    ...state,\n    inProgress: arraySwap([...state.inProgress], index - 1, index)\n  };\n};\n\nconst reducerDown = (state, payload) => {\n  const index = payload.index;\n  if (index < 0 || state.inProgress.length <= index + 1) {\n    return state;\n  }\n  return {\n    ...state,\n    inProgress: arraySwap([...state.inProgress], index, index + 1)\n  };\n};\n\nconst reducerDone = (state, payload) => {\n  const id = payload.id;\n  return {\n    ...state,\n    inProgress: state.inProgress.filter(e => e !== id),\n    done: [\n      ...state.done,\n      id,\n    ],\n  };\n};\n\nconst reducerUpdateItem = property => {\n  return (state, payload) => {\n    const id = payload.id;\n    const value = payload[property];\n    return {\n      ...state,\n      items: {\n        ...state.items,\n        [id]: {\n          ...state.items[id],\n          [property]: value,\n        },\n      },\n    };\n  };\n};\n\nconst reducerUpdateProgress = reducerUpdateItem('progress');\nconst reducerUpdateComment = reducerUpdateItem('comment');\nconst reducerUpdateSpentTimeMinutes = reducerUpdateItem('spentTimeMinutes');\n\nconst reducerRestore = (state, payload) => {\n  const id = payload.id;\n  return {\n    ...state,\n    inProgress: [\n      ...state.inProgress,\n      id\n    ],\n    done: state.done.filter(e => e !== id),\n  }\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'add':\n      return reducerAdd(state, action.payload);\n\n    case 'up':\n      return reducerUp(state, action.payload);\n\n    case 'down':\n      return reducerDown(state, action.payload);\n\n    case 'done':\n      return reducerDone(state, action.payload);\n\n    case 'update progress':\n      return reducerUpdateProgress(state, action.payload);\n\n    case 'update comment':\n      return reducerUpdateComment(state, action.payload);\n\n    case 'update spent time':\n      return reducerUpdateSpentTimeMinutes(state, action.payload);\n\n    case 'restore':\n      return reducerRestore(state, action.payload);\n\n    case 'all clear':\n      resetLocalStorege(localStorageKey);\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nconst compose = (f, ...fs) => {\n  return (...args) => fs.reduce((acc, fn) => fn(acc), f(...args));\n};\n\nconst localStorageKey = 'TodoContext';\n\nexport const TodoContextProvider = props => {\n  const [state, dispatch] = useReducer(\n    compose(reducer, saveLocalStorageMiddleware(localStorageKey)),\n    props.initialState ?? initialState,\n    loadLocalStorage(localStorageKey)\n  );\n\n  return (\n    <TodoContext.Provider value={state}>\n      <DispatchTodoContext.Provider value={dispatch}>\n        {props.children}\n      </DispatchTodoContext.Provider>\n    </TodoContext.Provider>\n  )\n}\n","import { createContext, useContext, useReducer } from \"react\";\nimport { saveLocalStorageMiddleware, loadLocalStorage, resetLocalStorege } from \"../utils/localStrage\";\n\nconst initialState = {\n  template: '',\n};\n\nconst ConfigContext = createContext(initialState);\nconst DispatchConfigContext = createContext(() => { });\n\nexport const useConfigContext = () => useContext(ConfigContext);\nexport const useDispatchConfigContext = () => useContext(DispatchConfigContext);\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'set':\n      return action.payload;\n\n    case 'reset':\n      resetLocalStorege(localStorageKey);\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nconst compose = (f, ...fs) => {\n  return (...args) => fs.reduce((acc, fn) => fn(acc), f(...args));\n};\n\nconst localStorageKey = 'ConfigContext';\n\nexport const ConfigContextProvider = props => {\n  const [state, dispatch] = useReducer(\n    compose(reducer, saveLocalStorageMiddleware(localStorageKey)),\n    props.initialState ?? initialState,\n    loadLocalStorage(localStorageKey)\n  );\n\n  return (\n    <ConfigContext.Provider value={state}>\n      <DispatchConfigContext.Provider value={dispatch}>\n        {props.children}\n      </DispatchConfigContext.Provider>\n    </ConfigContext.Provider>\n  )\n}\n","import { Box, AppBar, Typography, makeStyles, Toolbar } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n  title: {\n    display: 'inline-block',\n    width: '40%',\n  },\n  tab: {\n    display: 'inline-block',\n    width: '80%',\n    marginLeft: 'auto',\n  },\n}));\n\nconst Header = props => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography className={classes.title} component=\"h1\">\n            Todo-Report\n          </Typography>\n          <Box className={classes.tab}>\n            {props.children}\n          </Box>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nexport default Header;","export const zeroPadding = (num, length) => {\n  return ('0'.repeat(length) + num).slice(-length);\n}\n\nexport const formatMonthDate = d => {\n  const month = zeroPadding(d.getMonth() + 1, 2);\n  const date = zeroPadding(d.getDate(), 2);\n  return `${month}/${date}`;\n};\n\nexport const minutesToTimeText = minutes => {\n  const h = zeroPadding(Math.floor(minutes / 60), 2);\n  const m = zeroPadding(minutes % 60, 2);\n  return `${h}:${m}`;\n};\n\nexport const minutesToHours = minutes => {\n  const h = Math.floor(minutes / 60);\n  const m = minutes % 60;\n  return h + m / 60.0;\n};\n","import {\n  Grid,\n  Button,\n  ButtonGroup,\n  Card,\n  CardHeader,\n  CardActions,\n  CardContent,\n  TextField,\n  Slider,\n  Typography,\n  makeStyles,\n} from '@material-ui/core';\nimport { ArrowDownward, ArrowUpward } from '@material-ui/icons';\nimport { minutesToTimeText } from '../utils/utils';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    margin: 'auto',\n    marginTop: '2rem',\n    marginBottom: '2rem',\n    width: 'auto',\n    maxWidth: 600,\n    minWidth: 480,\n  },\n  moveBtn: {\n    marginLeft: 'auto',\n  },\n  restoreBtn: {\n    marginLeft: 'auto',\n  },\n}));\n\nconst TodoItem = ({ item, dispatch, disabled }) => {\n  const classes = useStyles();\n\n  const isDueDateDefined = item.dueDate.length !== 0;\n  const dueDateText = isDueDateDefined\n    ? item.dueDate.substring(item.dueDate.indexOf('-') + 1).replace('-', '/')\n    : '未設定'\n  const spentTimeValue = minutesToTimeText(item.spentTimeMinutes);\n\n  const timeTextToMinutes = timeText => {\n    if (timeText == null) { return 0; }\n    const [h, m] = timeText.split(':').map(str => parseInt(str));\n    return h * 60 + m;\n  };\n\n  return (\n    <Card className={classes.card} elevation={2}>\n      <CardHeader title={`#${item.id} ${item.name}`} />\n      <CardContent>\n        <Grid container alignItems=\"center\">\n          <Grid item xs={3}>\n            <Typography>期限 {dueDateText}</Typography>\n          </Grid>\n          <Grid item xs={9}>\n            <Typography>進捗 {item.progress}%</Typography>\n            <Slider\n              value={item.progress}\n              valueLabelDisplay=\"auto\"\n              step={10}\n              marks\n              min={0}\n              max={100}\n              onChange={\n                (e, value) => dispatch({ type: 'update progress', payload: { id: item.id, progress: value } })\n              }\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n        <Grid container spaceing={2} alignItems=\"flex-end\">\n          <Grid item xs={3}>\n            <Typography color={item.isProductive ? \"textPrimary\" : \"textSecondary\"}>{item.isProductive ? '生産' : '非生産'}</Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <TextField\n              label=\"時間\"\n              type=\"time\"\n              value={spentTimeValue}\n              InputLabelProps={{\n                shrink: true,\n              }}\n              inputProps={{\n                step: 1800,\n              }}\n              onChange={\n                (e) => dispatch({ type: 'update spent time', payload: { id: item.id, spentTimeMinutes: timeTextToMinutes(e.target.value) } })\n              }\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={7}>\n            <TextField\n              label=\"備考\"\n              type=\"text\"\n              value={item.comment}\n              InputLabelProps={{\n                shrink: true,\n              }}\n              onChange={\n                e => dispatch({ type: 'update comment', payload: { id: item.id, comment: e.target.value } })\n              }\n              fullWidth\n            />\n          </Grid>\n        </Grid>\n      </CardContent>\n      <CardActions>\n        {\n          disabled\n            ? (\n              <Button\n                className={classes.restoreBtn}\n                variant=\"outlined\"\n                color=\"default\"\n                size=\"small\"\n                onClick={() => dispatch({ type: 'restore', payload: { id: item.id } })}\n              >戻す</Button>\n            )\n            : (\n              <>\n                <ButtonGroup\n                  className={classes.moveBtn}\n                  variant=\"outlined\"\n                  color=\"default\"\n                  size=\"small\"\n                >\n                  <Button onClick={() => dispatch({ type: 'up', payload: { index: item.order } })}>\n                    <ArrowUpward />\n                  </Button>\n                  <Button onClick={() => dispatch({ type: 'down', payload: { index: item.order } })}>\n                    <ArrowDownward />\n                  </Button>\n                </ButtonGroup>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  size=\"small\"\n                  onClick={\n                    () => dispatch({ type: 'done', payload: { id: item.id } })\n                  }\n                >完了</Button>\n              </>\n            )\n        }\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default TodoItem;","import { Grid, makeStyles } from \"@material-ui/core\";\nimport TodoItem from \"./TodoItem\";\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    paddingLeft: '2rem',\n    paddingRight: '2rem',\n  },\n}));\n\nconst TodoList = props => {\n  const classes = useStyles();\n  const order = props.disabled ? [...props.order].reverse() : [...props.order];\n\n  return (\n    <Grid container className={classes.container} spacing={3}>\n      {order.map((id, index) => {\n        return (\n          <Grid key={id} item xs>\n            <TodoItem item={{ ...props.items[id], order: index }} dispatch={props.dispatch} disabled={props.disabled} />\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default TodoList;","import { useState } from \"react\";\n\nconst useInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  return {\n    value,\n    checked: value,\n    onChange: e => setValue(e.target.type === 'checkbox' ? e.target.checked : e.target.value),\n  };\n};\n\nexport default useInput;","import {\n  Button,\n  Checkbox,\n  FormControlLabel,\n  TextField,\n  makeStyles,\n  Paper,\n  Grid,\n} from \"@material-ui/core\";\nimport { useDispatchTodoContext } from \"../contexts/TodoContext\";\nimport useInput from \"../hooks/useInput\";\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    margin: \"auto\",\n    marginTop: \"2rem\",\n    marginBottom: \"2rem\",\n    padding: \"1rem\",\n    maxWidth: 600,\n    verticalAlign: \"bottom\",\n  },\n  marginZero: {\n    margin: 0,\n  },\n}));\n\nconst AddForm = props => {\n  const dispatch = useDispatchTodoContext();\n\n  const name = useInput(\"\");\n  const dueDate = useInput(\"\");\n  const isProductive = useInput(false);\n\n  const classes = useStyles();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const item = {\n      name: name.value,\n      dueDate: dueDate.value,\n      isProductive: isProductive.value,\n    }\n    dispatch({ type: 'add', payload: { item: item } });\n  };\n\n  return (\n    <Paper className={classes.paper} elevation={2}>\n      <form onSubmit={handleSubmit}>\n        <Grid className={classes.gridContainer} spacing={1} container alignItems=\"flex-end\">\n          <Grid item xs={12}>\n            <TextField\n              label=\"タスク\"\n              type=\"text\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              {...name}\n              fullWidth\n              required\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <TextField\n              label=\"期限\"\n              type=\"date\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              {...dueDate}\n            />\n          </Grid>\n          <Grid item xs={4}>\n            <FormControlLabel\n              control={<Checkbox className={classes.marginZero} color=\"primary\" {...isProductive} />}\n              label=\"生産的\"\n              labelPlacement=\"start\"\n            />\n          </Grid>\n          <Grid item xs={2}>\n          </Grid>\n          <Grid item xs={2}>\n            <Button type=\"submit\" variant=\"contained\" color=\"default\">追加</Button>\n          </Grid>\n        </Grid>\n      </form>\n    </Paper>\n  );\n};\n\nexport default AddForm;","import { Box } from '@material-ui/core';\nimport { useTodoContext, useDispatchTodoContext } from \"../contexts/TodoContext\";\nimport TodoList from \"./TodoList\";\nimport AddForm from \"./AddForm\";\n\nconst InProgressPage = props => {\n  const todoState = useTodoContext();\n  const dispatch = useDispatchTodoContext();\n\n  return (\n    <Box>\n      <TodoList items={todoState.items} order={todoState.inProgress} dispatch={dispatch} />\n      <AddForm dispatch={dispatch}></AddForm>\n    </Box>\n  );\n};\n\nexport default InProgressPage;","\nconst TabPanel = ({ page, index, children }) => {\n  return (\n    <div hidden={page !== index}>\n      {\n        page === index\n          ? children\n          : null\n      }\n    </div>\n  )\n};\n\nexport default TabPanel;","import { Box } from \"@material-ui/core\";\nimport { useTodoContext, useDispatchTodoContext } from \"../contexts/TodoContext\";\nimport TodoList from \"./TodoList\";\n\nconst DonePage = props => {\n  const todoState = useTodoContext();\n  const dispatch = useDispatchTodoContext();\n\n  return (\n    <Box>\n      <TodoList items={todoState.items} order={todoState.done} dispatch={dispatch} disabled />\n    </Box>\n  );\n};\n\nexport default DonePage;","import { useState } from 'react';\n\nconst useTextarea = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  return {\n    value,\n    onChange: e => setValue(e.target.value),\n  };\n};\n\nexport default useTextarea;","import {\n  Box,\n  Button,\n  makeStyles,\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Grid,\n  TextareaAutosize,\n  Typography,\n} from \"@material-ui/core\";\nimport { useDispatchTodoContext } from \"../contexts/TodoContext\";\nimport { useConfigContext, useDispatchConfigContext } from \"../contexts/ConfigContext\";\nimport useTextarea from \"../hooks/useTextarea\";\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    margin: \"auto\",\n    marginTop: \"2rem\",\n    marginBottom: \"2rem\",\n    width: 'auto',\n    maxWidth: 600,\n  },\n  textarea: {\n    padding: '0.1rem',\n    width: '100%',\n    fontSize: '1rem',\n  },\n  actionBtn: {\n    marginLeft: \"auto\",\n  },\n  deleteBtn: {\n    display: \"block\",\n    marginLeft: \"auto\",\n  },\n  saveBtn: {\n    marginLeft: \"0.5rem\",\n    marginRight: \"0.5rem\",\n  },\n  cancelBtn: {\n    marginLeft: \"0.5rem\",\n    marginRight: \"0.5rem\",\n  },\n}));\n\nconst ConfigPage = props => {\n  const configs = useConfigContext();\n  const configDispatch = useDispatchConfigContext();\n  const todoDispatch = useDispatchTodoContext();\n  const classes = useStyles();\n\n  const template = useTextarea(configs.template);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const config = {\n      template: template.value,\n    };\n    configDispatch({ type: 'set', payload: config })\n  };\n\n  const handleDelete = e => {\n    todoDispatch({ type: 'all clear' });\n    configDispatch({ type: 'reset' });\n  };\n\n  const handleReset = e => {\n    // template.setValue(configs.template);\n  };\n\n  return (\n    <Box>\n      <Card className={classes.card} elevation={2}>\n        <CardHeader title=\"設定\" />\n        <form onSubmit={handleSubmit}>\n          <CardContent>\n            <Grid container>\n              <Grid item xs={8}>\n                <Typography>LocalStorageのデータの削除</Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Button className={classes.deleteBtn} variant=\"contained\" color=\"secondary\" onClick={handleDelete}>削除</Button>\n              </Grid>\n            </Grid>\n            <Grid container direction=\"column\">\n              <Grid container>\n                <Grid item xs={8}>\n                  <Typography>レポートテンプレート</Typography>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <TextareaAutosize className={classes.textarea} minRows={3} {...template} />\n              </Grid>\n            </Grid>\n          </CardContent>\n          <CardActions>\n            <Box className={classes.actionBtn}>\n              <Button\n                className={classes.saveBtn}\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"primary\"\n              >保存</Button>\n              <Button\n                className={classes.cancelBtn}\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={handleReset}\n              >リセット</Button>\n            </Box>\n          </CardActions>\n        </form>\n      </Card>\n    </Box >\n  );\n};\n\nexport default ConfigPage;","import { formatMonthDate, minutesToHours } from \"../utils/utils\";\n\nconst keywords = [\n  { keyword: '%%', get: () => '%' },\n  { keyword: '%TODAY%', get: () => formatMonthDate(new Date()) },\n  { keyword: '%ORDER%', get: ({ order }) => order + 1 },\n  { keyword: '%NAME%', get: ({ state, id }) => state.items[id].name },\n  { keyword: '%DUE_DATE%', get: ({ state, id }) => state.items[id].dueDate.length === 0 ? '' : formatMonthDate(new Date(state.items[id].dueDate)) },\n  { keyword: '%PROGRESS%', get: ({ state, id }) => state.items[id].progress },\n  { keyword: '%SPENT_TIME%', get: ({ state, id }) => minutesToHours(state.items[id].spentTimeMinutes) },\n  { keyword: '%PRODUCTIVE%', get: ({ state, id }) => state.items[id].isProductive ? '生産' : '非生産' },\n  { keyword: '%COMMENT%', get: ({ state, id }) => state.items[id].comment ?? '' },\n  {\n    keyword: '%PRODUCTIVE_TIME_PERCENT%', get: ({ state }) => {\n      const productiveTimeMinutes = state.inProgress.filter(id => state.items[id].isProductive).reduce((acc, id) => acc + state.items[id].spentTimeMinutes, 0);\n      const allTime = 6.5;\n      const percent = Math.floor(productiveTimeMinutes * 100 / (allTime * 60));\n      return percent;\n    }\n  },\n];\n\nexport default keywords;","import keywords from \"./keywords\";\n\nclass TemplateParseError {\n  constructor(message) {\n    this.message = message;\n    this.name = 'TemplateParseError'\n  }\n}\n\nconst lexText = (template, index, tokens) => {\n  if (template[index] === '%') { return lexKeyword(template, index, tokens); }\n  for (let i = index + 1; i < template.length; i++) {\n    if (template[i] === '%') {\n      tokens.push({ type: 'text', text: template.substring(index, i) });\n      return lexKeyword(template, i, tokens);\n    }\n  }\n  tokens.push({ type: 'text', text: template.substring(index) });\n  return tokens;\n};\n\nconst lexKeyword = (template, index, tokens) => {\n  for (let i = index + 1; i < template.length; i++) {\n    if (template[i] === '%') {\n      tokens.push({ type: 'keyword', text: template.substring(index, i + 1) });\n      return lexText(template, i + 1, tokens);\n    }\n  }\n  throw new TemplateParseError(\"Unexpected end of template.\");\n};\n\nconst lexer = template => {\n  return lexText(template, 0, []);\n};\n\nconst CONTROL_KEYWORD = {\n  LIST_BEGIN: '%LIST_BEGIN%',\n  LIST_END: '%LIST_END%',\n};\n\nconst parseList = (tokens, index, ast) => {\n  for (let i = index; i < tokens.length; i++) {\n    if (tokens[i].type === 'text') {\n      ast.push(tokens[i]);\n      continue;\n    }\n    switch (tokens[i].text) {\n      case CONTROL_KEYWORD.LIST_BEGIN:\n        throw new TemplateParseError(`Unexpected keyword ${CONTROL_KEYWORD.LIST_BEGIN}`);\n      case CONTROL_KEYWORD.LIST_END:\n        return [ast, i];\n      default:\n        ast.push(tokens[i]);\n        break;\n    }\n  }\n  throw new TemplateParseError(`Unexpected end of template. \"${CONTROL_KEYWORD.LIST_END}\" not found.`);\n};\n\nconst parserImpl = (tokens, index, ast) => {\n  for (let i = index; i < tokens.length; i++) {\n    if (tokens[i].type === 'text') {\n      ast.push(tokens[i]);\n      continue;\n    }\n    switch (tokens[i].text) {\n      case CONTROL_KEYWORD.LIST_BEGIN:\n        const [listAst, lastIndex] = parseList(tokens, i + 1, []);\n        ast.push(listAst);\n        i = lastIndex;\n        break;\n      case CONTROL_KEYWORD.LIST_END:\n        throw new TemplateParseError(`Unexpected keyword ${CONTROL_KEYWORD.LIST_END}`);\n      default:\n        ast.push(tokens[i]);\n        break;\n    }\n  }\n  return ast;\n};\n\nconst parser = tokens => {\n  return parserImpl(tokens, 0, []);\n};\n\nconst convert = (token, state, id, order) => {\n  const funcs = Object.fromEntries(keywords.map(pair => [pair.keyword, pair.get]));\n  if (funcs.hasOwnProperty(token.text)) {\n    return funcs[token.text]({ state, id, order }).toString();\n  } else {\n    throw new TemplateParseError(`Unknown keyword \"${token.text}\".`);\n  }\n}\n\nconst buildList = (ast, state) => {\n  return state.inProgress.map((id, order) => {\n    return ast.map(token => {\n      switch (token.type) {\n        case 'text':\n          return token.text;\n        case 'keyword':\n          return convert(token, state, id, order);\n        default:\n          throw new TemplateParseError('Unexpected token type.');\n      }\n    }).join('');\n  }).join('');\n}\n\nconst buildImpl = (ast, state) => {\n  return ast.map(token => {\n    if (token instanceof Array) {\n      return buildList(token, state);\n    }\n    switch (token.type) {\n      case 'text':\n        return token.text;\n      case 'keyword':\n        return convert(token, state, null, null)\n      default:\n        throw new TemplateParseError('Unexpected token type.');\n    }\n  }).join('');\n};\n\nconst build = (template, state) => {\n  try {\n    const tokens = lexer(template);\n    const ast = parser(tokens);\n    const text = buildImpl(ast, state);\n    return text;\n  } catch (e) {\n    if (e instanceof TemplateParseError) {\n      return e.message;\n    }\n    throw e;\n  }\n};\n\nexport { build };","import { Box, Card, CardHeader, CardContent, makeStyles } from \"@material-ui/core\";\nimport { useTodoContext } from \"../contexts/TodoContext\";\nimport { useConfigContext } from \"../contexts/ConfigContext\";\nimport { build } from \"../template/template\";\nimport { Fragment } from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    margin: \"auto\",\n    marginTop: \"2rem\",\n    marginBottom: \"2rem\",\n    width: 'auto',\n    maxWidth: 600,\n  },\n}));\n\nconst ReportPage = props => {\n  const classes = useStyles();\n  const todoState = useTodoContext();\n  const configs = useConfigContext();\n  const builtText = build(configs.template, todoState);\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader title=\"レポート\" />\n      <CardContent>\n        <Box>\n          {\n            builtText.split(\"\\n\").map((text, index) => (\n              <Fragment key={`report-content-${index}`}>{text}<br /></Fragment>\n            ))\n          }\n        </Box>\n      </CardContent>\n    </Card >\n  );\n};\n\nexport default ReportPage;","import InProgressPage from \"./InProgressPage\";\nimport TabPanel from \"./TabPanel\";\nimport DonePage from \"./DonePage\";\nimport ConfigPage from \"./ConfigPage\";\nimport ReportPage from \"./ReportPage\";\n\nconst Main = props => {\n  return (\n    <main>\n      <TabPanel page={props.page} index={0}>\n        <InProgressPage />\n      </TabPanel>\n      <TabPanel page={props.page} index={1}>\n        <DonePage />\n      </TabPanel>\n      <TabPanel page={props.page} index={2}>\n        <ReportPage />\n      </TabPanel>\n      <TabPanel page={props.page} index={3}>\n        <ConfigPage />\n      </TabPanel>\n    </main>\n  );\n};\n\nexport default Main;\n","import { useState } from 'react';\nimport { Tab, Tabs } from '@material-ui/core';\nimport { TodoContextProvider } from './contexts/TodoContext';\nimport { ConfigContextProvider } from './contexts/ConfigContext';\nimport Header from './components/Header';\nimport Main from './components/Main';\nimport './App.css';\n\nconst App = () => {\n  const [tabPage, setTabPage] = useState(0);\n\n  return (\n    <div className=\"App\">\n      <Header page={tabPage}>\n        <Tabs value={tabPage} onChange={(_, page) => setTabPage(page)}>\n          <Tab label=\"in progress\" />\n          <Tab label=\"done\" />\n          <Tab label=\"report\" />\n          <Tab label=\"config\" />\n        </Tabs>\n      </Header>\n      <ConfigContextProvider>\n        <TodoContextProvider>\n          <Main page={tabPage} />\n        </TodoContextProvider>\n      </ConfigContextProvider>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport '@fontsource/roboto';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}